function createFormData({form:t,data:a}){const o=new FormData(t)||new FormData;return Object.entries(a).map(([t,a])=>o.append(t,a)),o}async function fetchRequest({path:t,method:a,formData:o,form:e,data:r,dataType:n}){const c=await fetch(t,{method:a||"GET",body:o||createFormData({form:e,data:r})});if(!c.ok)throw new Error(`HTTP ERROR: ${c.status}`);const i=n&&"auto"!==n?"json"===n?await c.json():"blob"===n?await c.blob():"text"===n?await c.text():function(){throw new Error(`Data type ${n} couldn't be decrypted`)}:await c.json()||await c.blob()||await c.text()||function(){throw new Error("Failed to detect data type")};return"function"==typeof i&&i(),i}

function createFormData({form:t,data:a}){if(t&&"object"!=typeof t)throw new Error("Invalid data type for form");if(a&&"object"!=typeof a)throw new Error("Invalid data type for data");const o=new FormData(t)||new FormData;return a&&Object.entries(a).map(([t,a])=>o.append(t,a)),o}async function fetchRequest({path:t,method:a,formData:o,form:e,data:r,dataType:n}){const f=await fetch(t,{method:a||"GET",body:o||createFormData({form:e,data:r})});if(!f.ok)throw new Error(`HTTP ERROR: ${f.status}`);const c=n&&"auto"!==n?"json"===n?await f.json():"blob"===n?await f.blob():"text"===n?await f.text():function(){throw new Error(`Data type ${n} couldn't be decrypted`)}:await f.json()||await f.blob()||await f.text()||function(){throw new Error("Failed to detect data type")};return"function"==typeof c&&c(),c}
